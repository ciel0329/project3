<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="centerQnaDAO">

	<select id="getCenterQna_T" parameterType="com.spring.mall.center.vo.CenterQnaVO" 
	resultType="com.spring.mall.center.vo.CenterQnaVO">
		SELECT * 
		FROM CENTER_QNA 
		ORDER BY CENTER_QNA_ID DESC
	</select>
	
	<insert id="insertCenterQna" parameterType="com.spring.mall.center.vo.CenterQnaVO">
		INSERT INTO CENTER_QNA 
		(CENTER_QNA_ID, CENTER_QNA_TITLE, USER_ID, CENTER_QNA_CONTENT, CENTER_QNA_DATE) 
		VALUES 
		(SELECT NVL(MAX(CENTER_QNA_ID), 0) + 1 FROM CENTER_QNA, #{center_qna_title}, #{user_id}, #{center_qna_content}, SYSDATE)
	</insert>
	
	<select id="getCenterQnaList" parameterType="com.spring.mall.center.vo.CenterQnaVO" 
	resultType="map">
		SELECT C.CENTER_QNA_ID, C.CENTER_QNA_CONTENT, C.CENTER_QNA_TITLE, C.USER_ID, U.USER_NICKNAME, C.CENTER_QNA_DATE 
		FROM CENTER_QNA C, USERS U 
		WHERE C.USER_ID = U.USER_ID 
		ORDER BY C.CENTER_QNA_ID DESC
	</select>
	
</mapper>